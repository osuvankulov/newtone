// КонтролерExt.define('App.controller.Content' ,{    extend  : 'Ext.app.Controller',        views   : [        'main.Content',        'content.mainPanel',        'content.menu',        'content.menuTree',        'content.queriesList',        'content.addQueryWin'    ],    stores  : [         'menuTree',        'userStore',        'groupStore',        'departmentList',        'roleStore',        'podrazdStore'    ],    init    : function() {        this.control({            'mainmenu > button': {                click           : this.btnHandler            },            'menutree': {                selectionchange : this.treeSelect            },            'queriesList toolbar > buttongroup > button': {                click           : this.newQuery            }        });    },        btnHandler: function(btn) {        var tree = btn.up('mainmenu').prev();        if (!btn.pressed) {             btn.toggle();         } else {            tree.setTitle(btn.text);            var url;            switch (btn.moduleName) {                 case 'admin'   :url = 'data/treeadmin.json';break;                 case 'buyer'   :url = 'data/treebuyer.json';break;                case 'manager' :url = 'data/treemenu.json';break;             }            tree.getStore().getProxy().url = url;            tree.getStore().load({filters:[{                property    : 'module',                 value       : btn.moduleName            }]});                        var mainPanel = btn.up('maincontent').down('mainpanel');        }    },        treeSelect: function(v, sels, opt) {        if (sels[0].hasChildNodes()) {            sels[0].expand();            v.select(sels[0].firstChild);        } else {            Ext.getCmp('cardPanel').switchPanel(sels[0].getId());        }    },        newQuery: function(btn) {        Ext.create('App.view.content.addQueryWin').show();    }});